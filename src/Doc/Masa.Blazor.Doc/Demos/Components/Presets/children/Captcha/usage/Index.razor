@using System.Text
<PImageCaptcha CaptchaCode="@captchaCode" CaptchaWidth="200" Outlined Label="VerifyCode" Refresh="RefreshCode"></PImageCaptcha>

@code{
    string captchaCode = "";

    string randomCode = "1234567890abcdefghijklmn";

    Random random = new Random();

    protected override Task OnInitializedAsync()
    {
        RefreshCode();
        return base.OnInitializedAsync();
    }

    private Task GetRandomCode(int number = 5)
    {
        var sb = new StringBuilder();
        for(int i=0; i< number; i++)
        {
            sb.Append(randomCode[random.Next(0, randomCode.Length)]);
        }

        captchaCode = sb.ToString();

        return Task.CompletedTask;
    }

    private Task RefreshCode()
    {
        GetRandomCode();

        return Task.CompletedTask;
    }
}