@page "/show2"
@*@inherits BComponentBase*@
<MSwitch @bind-Value="_isShow" Label="@($"Show: {_isShow}")"></MSwitch>
<MTextField Value="1" FullWidth=false />
<MButton @onclick="BtnClickThrow">Throw test</MButton>
<MButton @onclick="BtnClickDevide">Current :@num</MButton>
<MButton @onclick="BtnClickReset">Rest</MButton>

@code
{
    private bool _isShow = true;
    private int num = 0;

    private void BtnClickThrow()
    {

        throw new Exception("throw error!");
    }

    private void BtnClickDevide()
    {
        num = 0;
        //num /= num;
    }

    private void BtnClickReset()
    {
        num = 1;
    }

    private async Task OnErrorHandleAsync(Exception ex)
    {

    }
    // 不支持
    //public override Task SetParametersAsync(ParameterView parameters)
    //{
    //    throw new Exception("SetParametersAsync Error");
    //}


    ////1 支持
    //protected override void OnInitialized()
    //{
    //    throw new Exception("OnInitialized Error");
    //}

    ////2 支持
    //protected override Task OnInitializedAsync()
    //{
    //    throw new Exception("OnInitializedAsync Error");
    //}

    ////3 支持
    protected override void OnParametersSet()
    {
        num /= num;
       // throw new Exception("OnParametersSet Error");
    }

    ////4 支持
    //protected override Task OnParametersSetAsync()
    //{
    //    throw new Exception("OnParametersSetAsync Error");
    //}

    //5 支持
    protected override void OnAfterRender(bool firstRender)
    {
        
        //throw new Exception("OnAfterRender Error");
    }    

    //6 支持
    //protected override Task OnAfterRenderAsync(bool firstRender)
    //{
    //    throw new Exception("OnAfterRenderAsync Error");
    //}    
}